(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4184:function(e,t){var o;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)){if(o.length){var i=r.apply(null,o);i&&e.push(i)}}else if("object"===n){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var s in o)a.call(o,s)&&o[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0!==(o=(function(){return r}).apply(t,[]))&&(e.exports=o)}()},8312:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(9747)}])},3740:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(6495).Z,r=o(2648).Z,n=o(1598).Z,i=o(7273).Z,s=n(o(7294)),l=r(o(2636)),c=o(7757),d=o(3735),u=o(3341);o(4210);var f=r(o(7746));let m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/",loader:"akamai",dangerouslyAllowSVG:!1,unoptimized:!1};function g(e){return void 0!==e.default}function h(e){return"number"==typeof e||void 0===e?e:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function p(e,t,o,r,n,i,s){if(!e||e["data-loaded-src"]===t)return;e["data-loaded-src"]=t;let l="decode"in e?e.decode():Promise.resolve();l.catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("blur"===o&&i(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let o=!1,n=!1;r.current(a({},t,{nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>o,isPropagationStopped:()=>n,persist:()=>{},preventDefault:()=>{o=!0,t.preventDefault()},stopPropagation:()=>{n=!0,t.stopPropagation()}}))}(null==n?void 0:n.current)&&n.current(e)}})}let v=s.forwardRef((e,t)=>{var{imgAttributes:o,heightInt:r,widthInt:n,qualityInt:l,className:c,imgStyle:d,blurStyle:u,isLazy:f,fill:m,placeholder:g,loading:h,srcString:v,config:b,unoptimized:_,loader:x,onLoadRef:w,onLoadingCompleteRef:y,setBlurComplete:j,setShowAltText:C,onLoad:S,onError:E}=e,N=i(e,["imgAttributes","heightInt","widthInt","qualityInt","className","imgStyle","blurStyle","isLazy","fill","placeholder","loading","srcString","config","unoptimized","loader","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","onLoad","onError"]);return h=f?"lazy":h,s.default.createElement(s.default.Fragment,null,s.default.createElement("img",Object.assign({},N,{loading:h,width:n,height:r,decoding:"async","data-nimg":m?"fill":"1",className:c,style:a({},d,u)},o,{ref:s.useCallback(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(E&&(e.src=e.src),e.complete&&p(e,v,g,w,y,j,_))},[v,g,w,y,j,E,_,t]),onLoad:e=>{let t=e.currentTarget;p(t,v,g,w,y,j,_)},onError:e=>{C(!0),"blur"===g&&j(!0),E&&E(e)}})))}),b=s.forwardRef((e,t)=>{let o,r;var n,{src:p,sizes:b,unoptimized:_=!1,priority:x=!1,loading:w,className:y,quality:j,width:C,height:S,fill:E,style:N,onLoad:k,onLoadingComplete:O,placeholder:R="empty",blurDataURL:z,layout:B,objectFit:L,objectPosition:P,lazyBoundary:I,lazyRoot:M}=e,A=i(e,["src","sizes","unoptimized","priority","loading","className","quality","width","height","fill","style","onLoad","onLoadingComplete","placeholder","blurDataURL","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"]);let H=s.useContext(u.ImageConfigContext),T=s.useMemo(()=>{let e=m||H||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),o=e.deviceSizes.sort((e,t)=>e-t);return a({},e,{allSizes:t,deviceSizes:o})},[H]),F=A,W=F.loader||f.default;delete F.loader;let D="__next_img_default"in W;if(D){if("custom"===T.loader)throw Error('Image with src "'.concat(p,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}else{let e=W;W=t=>{let{config:o}=t,a=i(t,["config"]);return e(a)}}if(B){"fill"===B&&(E=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[B];e&&(N=a({},N,e));let t={responsive:"100vw",fill:"100vw"}[B];t&&!b&&(b=t)}let U="",q=h(C),G=h(S);if("object"==typeof(n=p)&&(g(n)||void 0!==n.src)){let e=g(p)?p.default:p;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(e)));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(e)));if(o=e.blurWidth,r=e.blurHeight,z=z||e.blurDataURL,U=e.src,!E){if(q||G){if(q&&!G){let t=q/e.width;G=Math.round(e.height*t)}else if(!q&&G){let t=G/e.height;q=Math.round(e.width*t)}}else q=e.width,G=e.height}}let $=!x&&("lazy"===w||void 0===w);((p="string"==typeof p?p:U).startsWith("data:")||p.startsWith("blob:"))&&(_=!0,$=!1),T.unoptimized&&(_=!0),D&&p.endsWith(".svg")&&!T.dangerouslyAllowSVG&&(_=!0);let[V,X]=s.useState(!1),[Z,Y]=s.useState(!1),J=h(j),K=Object.assign(E?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:L,objectPosition:P}:{},Z?{}:{color:"transparent"},N),Q="blur"===R&&z&&!V?{backgroundSize:K.objectFit||"cover",backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'.concat(c.getImageBlurSvg({widthInt:q,heightInt:G,blurWidth:o,blurHeight:r,blurDataURL:z,objectFit:K.objectFit}),'")')}:{},ee=function(e){let{config:t,src:o,unoptimized:a,width:r,quality:n,sizes:i,loader:s}=e;if(a)return{src:o,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(e,t,o){let{deviceSizes:a,allSizes:r}=e;if(o){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let a;a=e.exec(o);a)t.push(parseInt(a[2]));if(t.length){let e=.01*Math.min(...t);return{widths:r.filter(t=>t>=a[0]*e),kind:"w"}}return{widths:r,kind:"w"}}if("number"!=typeof t)return{widths:a,kind:"w"};let n=[...new Set([t,2*t].map(e=>r.find(t=>t>=e)||r[r.length-1]))];return{widths:n,kind:"x"}}(t,r,i),d=l.length-1;return{sizes:i||"w"!==c?i:"100vw",srcSet:l.map((e,a)=>"".concat(s({config:t,src:o,quality:n,width:e})," ").concat("w"===c?e:a+1).concat(c)).join(", "),src:s({config:t,src:o,quality:n,width:l[d]})}}({config:T,src:p,unoptimized:_,width:q,quality:J,sizes:b,loader:W}),et=p,eo={imageSrcSet:ee.srcSet,imageSizes:ee.sizes,crossOrigin:F.crossOrigin},ea=s.useRef(k);s.useEffect(()=>{ea.current=k},[k]);let er=s.useRef(O);s.useEffect(()=>{er.current=O},[O]);let en=a({isLazy:$,imgAttributes:ee,heightInt:G,widthInt:q,qualityInt:J,className:y,imgStyle:K,blurStyle:Q,loading:w,config:T,fill:E,unoptimized:_,placeholder:R,loader:W,srcString:et,onLoadRef:ea,onLoadingCompleteRef:er,setBlurComplete:X,setShowAltText:Y},F);return s.default.createElement(s.default.Fragment,null,s.default.createElement(v,Object.assign({},en,{ref:t})),x?s.default.createElement(l.default,null,s.default.createElement("link",Object.assign({key:"__nimg-"+ee.src+ee.srcSet+ee.sizes,rel:"preload",as:"image",href:ee.srcSet?void 0:ee.src},eo))):null)});t.default=b,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7757:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageBlurSvg=function(e){let{widthInt:t,heightInt:o,blurWidth:a,blurHeight:r,blurDataURL:n,objectFit:i}=e,s=a||t,l=r||o,c=n.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return s&&l?"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 ".concat(s," ").concat(l,"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='").concat(a&&r?"1":"20","'/%3E").concat(c,"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='").concat(n,"'/%3E%3C/svg%3E"):"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' preserveAspectRatio='".concat("contain"===i?"xMidYMid":"cover"===i?"xMidYMid slice":"none","' x='0' y='0' height='100%25' width='100%25' href='").concat(n,"'/%3E%3C/svg%3E")}},7746:function(e,t){"use strict";function o(e){let{config:t,src:o,width:a,quality:r}=e;return"".concat(t.path,"?url=").concat(encodeURIComponent(o),"&w=").concat(a,"&q=").concat(r||75)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o.__next_img_default=!0,t.default=o},9747:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Y}});var a=o(5893),r=o(9008),n=o.n(r),i=o(9034),s=o.n(i),l=o(7294),c=o(3665),d=o.n(c),u=o(5675),f=o.n(u),m={src:"/_next/static/media/loader.db046b2c.svg",height:14,width:13,blurWidth:0,blurHeight:0};function g(e){let{style:t,onClick:o,text:r,loading:n,disabled:i}=e;return(0,a.jsx)("button",{className:t,onClick:o,disabled:i,children:n?(0,a.jsx)(f(),{className:d().spinner,src:m,alt:"Loading",width:20,height:20}):r})}var h=o(4184),p=o.n(h);let v=l.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:b,Provider:_}=v;function x(e,t){let{prefixes:o}=(0,l.useContext)(v);return e||o[t]||t}var w=/-(.)/g;let y=e=>e[0].toUpperCase()+e.replace(w,function(e,t){return t.toUpperCase()}).slice(1);function j(e,{displayName:t=y(e),Component:o,defaultProps:r}={}){let n=l.forwardRef(({className:t,bsPrefix:n,as:i=o||"div",...s},l)=>{let c={...r,...s},d=x(n,e);return(0,a.jsx)(i,{ref:l,className:p()(t,d),...c})});return n.displayName=t,n}var C=e=>l.forwardRef((t,o)=>(0,a.jsx)("div",{...t,ref:o,className:p()(t.className,e)}));let S=l.forwardRef(({bsPrefix:e,className:t,variant:o,as:r="img",...n},i)=>{let s=x(e,"card-img");return(0,a.jsx)(r,{ref:i,className:p()(o?`${s}-${o}`:s,t),...n})});S.displayName="CardImg";let E=l.createContext(null);E.displayName="CardHeaderContext";let N=l.forwardRef(({bsPrefix:e,className:t,as:o="div",...r},n)=>{let i=x(e,"card-header"),s=(0,l.useMemo)(()=>({cardHeaderBsPrefix:i}),[i]);return(0,a.jsx)(E.Provider,{value:s,children:(0,a.jsx)(o,{ref:n,...r,className:p()(t,i)})})});N.displayName="CardHeader";let k=C("h5"),O=C("h6"),R=j("card-body"),z=j("card-title",{Component:k}),B=j("card-subtitle",{Component:O}),L=j("card-link",{Component:"a"}),P=j("card-text",{Component:"p"}),I=j("card-footer"),M=j("card-img-overlay"),A=l.forwardRef(({bsPrefix:e,className:t,bg:o,text:r,border:n,body:i=!1,children:s,as:l="div",...c},d)=>{let u=x(e,"card");return(0,a.jsx)(l,{ref:d,...c,className:p()(t,u,o&&`bg-${o}`,r&&`text-${r}`,n&&`border-${n}`),children:i?(0,a.jsx)(R,{children:s}):s})});A.displayName="Card";var H=Object.assign(A,{Img:S,Title:z,Subtitle:B,Body:R,Link:L,Text:P,Header:N,Footer:I,ImgOverlay:M}),T=o(6568),F=o.n(T),W=o(1086),D=o.n(W),U=function(e){let{classroom:t}=e,o="";o=t.availablefor<0?"classroom-unavailable":t.availablefor>0&&t.availablefor<30?"classroom-soon-unavailable":"classroom-available";let r=p()(D().classroom,D()[o]);return(0,a.jsxs)("div",{className:r,children:[(0,a.jsx)("p",{children:t.room}),t.availablefor<0?(0,a.jsxs)("p",{children:["Unavailable for ",Math.abs(t.availablefor)," mins"]}):(0,a.jsxs)("p",{children:["Free for ",t.availablefor," mins"]})]})},q=function(e){let{building:t}=e,[o,r]=(0,l.useState)(!1),n=()=>{r(!o)};return(0,a.jsx)(H,{className:F().card,onClick:n,children:(0,a.jsxs)(H.Body,{children:[(0,a.jsx)(H.Title,{className:"text-center",children:t.building}),(0,a.jsx)("div",{className:"".concat(F().rooms," ").concat(o?F().show:""),children:o?0===t.rooms.length?(0,a.jsx)("p",{className:"text-center",children:"No rooms available"}):t.rooms.map((e,t)=>(0,a.jsx)(U,{classroom:e},"room-".concat(e))):null})]})})},G=o(4830),$=o.n(G),V=function(e){let{buildings:t}=e;return(0,a.jsx)("div",{className:$().list,children:t.map((e,t)=>(0,a.jsx)(q,{building:e},t))})};let X=async function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=await fetch("http://localhost:5000/closest?lat=".concat(e,"&long=").concat(t,"&page=").concat(o));if(!a.ok)throw Error("API request failed: ".concat(a.status));let r=await a.json();return console.log(r),r.buildings},Z=()=>{let[e,t]=(0,l.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),o=e=>{t({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},a=e=>{t({loaded:!0,error:{code:e.code,message:e.message}})};return(0,l.useEffect)(()=>{"geolocation"in navigator||a({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(o,a)},[]),e};function Y(){let[e,t]=(0,l.useState)([]),[o,r]=(0,l.useState)(!1),[i,c]=(0,l.useState)(0),[d,u]=(0,l.useState)(!1),[f,m]=(0,l.useState)(!1),h=Z(),p=()=>{r(!0),X(h.coordinates.lat,h.coordinates.lng,0).then(e=>{t(e),r(!1),c(1),u(e.length>0)})},v=()=>{m(!0),X(h.coordinates.lat,h.coordinates.lng,i).then(o=>{t([...e,...o]),m(!1),c(i+1),u(o.length>0)})};return(0,a.jsxs)("div",{className:s().container,children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"OSU Classrooms"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("main",{children:[(0,a.jsx)("h1",{className:s().title,children:"OSU Classroom Avaliability"}),(0,a.jsx)("p",{className:s().description,children:"Term: Summer 2023"}),h.loaded?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(g,{style:"btn btn-primary",text:"Search",onClick:p,loading:o,disabled:o})}):(0,a.jsx)("div",{children:"Location data not available yet. "}),(0,a.jsx)(V,{buildings:e}),d&&(0,a.jsx)(g,{style:"btn btn-outline-secondary",text:"Load More",onClick:v,loading:f,disabled:f})]}),(0,a.jsx)("footer",{children:(0,a.jsx)("a",{children:"Support us ❤️"})})]})}},6568:function(e){e.exports={card:"Building_card__cm3XX",slideInLeft:"Building_slideInLeft__WDCgq",rooms:"Building_rooms__eLe7u",show:"Building_show__1VbmV"}},4830:function(e){e.exports={list:"BuildingList_list__5bAOx"}},3665:function(e){e.exports={"search-btn":"Button_search-btn__WkhOA",spinner:"Button_spinner__mgQBK",spin:"Button_spin__xhFtc"}},1086:function(e){e.exports={classroom:"Classroom_classroom__pOr0M","classroom-available":"Classroom_classroom-available__KoM_w","classroom-unavailable":"Classroom_classroom-unavailable__qhW_L","classroom-soon-unavailable":"Classroom_classroom-soon-unavailable__Rvoxd"}},9034:function(e){e.exports={container:"Home_container__bCOhY",title:"Home_title__T09hD",description:"Home_description__41Owk",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},9008:function(e,t,o){e.exports=o(2636)},5675:function(e,t,o){e.exports=o(3740)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);