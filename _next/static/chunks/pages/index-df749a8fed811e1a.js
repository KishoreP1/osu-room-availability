(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4184:function(e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0!==(r=(function(){return i}).apply(t,[]))&&(e.exports=r)}()},8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9747)}])},3740:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6495).Z,i=r(2648).Z,o=r(1598).Z,a=r(7273).Z,s=o(r(7294)),l=i(r(2636)),c=r(7757),d=r(3735),u=r(3341);r(4210);var f=i(r(7746));let g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/",loader:"akamai",dangerouslyAllowSVG:!1,unoptimized:!1};function m(e){return void 0!==e.default}function h(e){return"number"==typeof e||void 0===e?e:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function p(e,t,r,i,o,a,s){if(!e||e["data-loaded-src"]===t)return;e["data-loaded-src"]=t;let l="decode"in e?e.decode():Promise.resolve();l.catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("blur"===r&&a(!0),null==i?void 0:i.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,o=!1;i.current(n({},t,{nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{o=!0,t.stopPropagation()}}))}(null==o?void 0:o.current)&&o.current(e)}})}let v=s.forwardRef((e,t)=>{var{imgAttributes:r,heightInt:i,widthInt:o,qualityInt:l,className:c,imgStyle:d,blurStyle:u,isLazy:f,fill:g,placeholder:m,loading:h,srcString:v,config:b,unoptimized:x,loader:_,onLoadRef:w,onLoadingCompleteRef:y,setBlurComplete:j,setShowAltText:C,onLoad:S,onError:E}=e,N=a(e,["imgAttributes","heightInt","widthInt","qualityInt","className","imgStyle","blurStyle","isLazy","fill","placeholder","loading","srcString","config","unoptimized","loader","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","onLoad","onError"]);return h=f?"lazy":h,s.default.createElement(s.default.Fragment,null,s.default.createElement("img",Object.assign({},N,{loading:h,width:o,height:i,decoding:"async","data-nimg":g?"fill":"1",className:c,style:n({},d,u)},r,{ref:s.useCallback(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(E&&(e.src=e.src),e.complete&&p(e,v,m,w,y,j,x))},[v,m,w,y,j,E,x,t]),onLoad:e=>{let t=e.currentTarget;p(t,v,m,w,y,j,x)},onError:e=>{C(!0),"blur"===m&&j(!0),E&&E(e)}})))}),b=s.forwardRef((e,t)=>{let r,i;var o,{src:p,sizes:b,unoptimized:x=!1,priority:_=!1,loading:w,className:y,quality:j,width:C,height:S,fill:E,style:N,onLoad:k,onLoadingComplete:O,placeholder:R="empty",blurDataURL:z,layout:B,objectFit:P,objectPosition:I,lazyBoundary:L,lazyRoot:A}=e,M=a(e,["src","sizes","unoptimized","priority","loading","className","quality","width","height","fill","style","onLoad","onLoadingComplete","placeholder","blurDataURL","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"]);let H=s.useContext(u.ImageConfigContext),T=s.useMemo(()=>{let e=g||H||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t);return n({},e,{allSizes:t,deviceSizes:r})},[H]),F=M,D=F.loader||f.default;delete F.loader;let W="__next_img_default"in D;if(W){if("custom"===T.loader)throw Error('Image with src "'.concat(p,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}else{let e=D;D=t=>{let{config:r}=t,n=a(t,["config"]);return e(n)}}if(B){"fill"===B&&(E=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[B];e&&(N=n({},N,e));let t={responsive:"100vw",fill:"100vw"}[B];t&&!b&&(b=t)}let U="",q=h(C),G=h(S);if("object"==typeof(o=p)&&(m(o)||void 0!==o.src)){let e=m(p)?p.default:p;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(e)));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(e)));if(r=e.blurWidth,i=e.blurHeight,z=z||e.blurDataURL,U=e.src,!E){if(q||G){if(q&&!G){let t=q/e.width;G=Math.round(e.height*t)}else if(!q&&G){let t=G/e.height;q=Math.round(e.width*t)}}else q=e.width,G=e.height}}let $=!_&&("lazy"===w||void 0===w);((p="string"==typeof p?p:U).startsWith("data:")||p.startsWith("blob:"))&&(x=!0,$=!1),T.unoptimized&&(x=!0),W&&p.endsWith(".svg")&&!T.dangerouslyAllowSVG&&(x=!0);let[V,X]=s.useState(!1),[Z,Y]=s.useState(!1),J=h(j),Q=Object.assign(E?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:P,objectPosition:I}:{},Z?{}:{color:"transparent"},N),K="blur"===R&&z&&!V?{backgroundSize:Q.objectFit||"cover",backgroundPosition:Q.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'.concat(c.getImageBlurSvg({widthInt:q,heightInt:G,blurWidth:r,blurHeight:i,blurDataURL:z,objectFit:Q.objectFit}),'")')}:{},ee=function(e){let{config:t,src:r,unoptimized:n,width:i,quality:o,sizes:a,loader:s}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(e,t,r){let{deviceSizes:n,allSizes:i}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:i,kind:"w"}}if("number"!=typeof t)return{widths:n,kind:"w"};let o=[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))];return{widths:o,kind:"x"}}(t,i,a),d=l.length-1;return{sizes:a||"w"!==c?a:"100vw",srcSet:l.map((e,n)=>"".concat(s({config:t,src:r,quality:o,width:e})," ").concat("w"===c?e:n+1).concat(c)).join(", "),src:s({config:t,src:r,quality:o,width:l[d]})}}({config:T,src:p,unoptimized:x,width:q,quality:J,sizes:b,loader:D}),et=p,er={imageSrcSet:ee.srcSet,imageSizes:ee.sizes,crossOrigin:F.crossOrigin},en=s.useRef(k);s.useEffect(()=>{en.current=k},[k]);let ei=s.useRef(O);s.useEffect(()=>{ei.current=O},[O]);let eo=n({isLazy:$,imgAttributes:ee,heightInt:G,widthInt:q,qualityInt:J,className:y,imgStyle:Q,blurStyle:K,loading:w,config:T,fill:E,unoptimized:x,placeholder:R,loader:D,srcString:et,onLoadRef:en,onLoadingCompleteRef:ei,setBlurComplete:X,setShowAltText:Y},F);return s.default.createElement(s.default.Fragment,null,s.default.createElement(v,Object.assign({},eo,{ref:t})),_?s.default.createElement(l.default,null,s.default.createElement("link",Object.assign({key:"__nimg-"+ee.src+ee.srcSet+ee.sizes,rel:"preload",as:"image",href:ee.srcSet?void 0:ee.src},er))):null)});t.default=b,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7757:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageBlurSvg=function(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:i,blurDataURL:o,objectFit:a}=e,s=n||t,l=i||r,c=o.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return s&&l?"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 ".concat(s," ").concat(l,"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='").concat(n&&i?"1":"20","'/%3E").concat(c,"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='").concat(o,"'/%3E%3C/svg%3E"):"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' preserveAspectRatio='".concat("contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none","' x='0' y='0' height='100%25' width='100%25' href='").concat(o,"'/%3E%3C/svg%3E")}},7746:function(e,t){"use strict";function r(e){let{config:t,src:r,width:n,quality:i}=e;return"".concat(t.path,"?url=").concat(encodeURIComponent(r),"&w=").concat(n,"&q=").concat(i||75)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.__next_img_default=!0,t.default=r},9747:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Y}});var n=r(5893),i=r(9008),o=r.n(i),a=r(9034),s=r.n(a),l=r(7294),c=r(3665),d=r.n(c),u=r(5675),f=r.n(u),g={src:"/_next/static/media/loader.db046b2c.svg",height:14,width:13,blurWidth:0,blurHeight:0};function m(e){let{style:t,onClick:r,text:i,loading:o,disabled:a}=e;return(0,n.jsx)("button",{className:t,onClick:r,disabled:a,children:o?(0,n.jsx)(f(),{className:d().spinner,src:g,alt:"Loading",width:20,height:20}):i})}var h=r(4184),p=r.n(h);let v=l.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:b,Provider:x}=v;function _(e,t){let{prefixes:r}=(0,l.useContext)(v);return e||r[t]||t}var w=/-(.)/g;let y=e=>e[0].toUpperCase()+e.replace(w,function(e,t){return t.toUpperCase()}).slice(1);function j(e,{displayName:t=y(e),Component:r,defaultProps:i}={}){let o=l.forwardRef(({className:t,bsPrefix:o,as:a=r||"div",...s},l)=>{let c={...i,...s},d=_(o,e);return(0,n.jsx)(a,{ref:l,className:p()(t,d),...c})});return o.displayName=t,o}var C=e=>l.forwardRef((t,r)=>(0,n.jsx)("div",{...t,ref:r,className:p()(t.className,e)}));let S=l.forwardRef(({bsPrefix:e,className:t,variant:r,as:i="img",...o},a)=>{let s=_(e,"card-img");return(0,n.jsx)(i,{ref:a,className:p()(r?`${s}-${r}`:s,t),...o})});S.displayName="CardImg";let E=l.createContext(null);E.displayName="CardHeaderContext";let N=l.forwardRef(({bsPrefix:e,className:t,as:r="div",...i},o)=>{let a=_(e,"card-header"),s=(0,l.useMemo)(()=>({cardHeaderBsPrefix:a}),[a]);return(0,n.jsx)(E.Provider,{value:s,children:(0,n.jsx)(r,{ref:o,...i,className:p()(t,a)})})});N.displayName="CardHeader";let k=C("h5"),O=C("h6"),R=j("card-body"),z=j("card-title",{Component:k}),B=j("card-subtitle",{Component:O}),P=j("card-link",{Component:"a"}),I=j("card-text",{Component:"p"}),L=j("card-footer"),A=j("card-img-overlay"),M=l.forwardRef(({bsPrefix:e,className:t,bg:r,text:i,border:o,body:a=!1,children:s,as:l="div",...c},d)=>{let u=_(e,"card");return(0,n.jsx)(l,{ref:d,...c,className:p()(t,u,r&&`bg-${r}`,i&&`text-${i}`,o&&`border-${o}`),children:a?(0,n.jsx)(R,{children:s}):s})});M.displayName="Card";var H=Object.assign(M,{Img:S,Title:z,Subtitle:B,Body:R,Link:P,Text:I,Header:N,Footer:L,ImgOverlay:A}),T=r(6568),F=r.n(T),D=r(1086),W=r.n(D),U=function(e){let{classroom:t}=e;return(0,n.jsxs)("div",{className:W().classroom,children:[(0,n.jsx)("p",{children:t.room}),(0,n.jsxs)("p",{children:["free for ",t.availablefor," mins"]})]})},q=function(e){let{building:t}=e,[r,i]=(0,l.useState)(!1),o=()=>{i(!r)};return(0,n.jsx)(H,{className:F().card,onClick:o,children:(0,n.jsxs)(H.Body,{children:[(0,n.jsx)(H.Title,{className:"text-center",children:t.building}),(0,n.jsx)("div",{className:"".concat(F().rooms," ").concat(r?F().show:""),children:r&&t.rooms.map((e,t)=>(0,n.jsx)(U,{classroom:e},"room-".concat(e)))})]})})},G=r(4830),$=r.n(G),V=function(e){let{buildings:t}=e;return(0,n.jsx)("div",{className:$().list,children:t.map((e,t)=>(0,n.jsx)(q,{building:e},t))})};let X=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=await fetch("http://localhost:5000/closest?lat=".concat(e,"&long=").concat(t,"&page=").concat(r));if(!n.ok)throw Error("API request failed: ".concat(n.status));let i=await n.json();return console.log(i),i.buildings},Z=()=>{let[e,t]=(0,l.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),r=e=>{t({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},n=e=>{t({loaded:!0,error:{code:e.code,message:e.message}})};return(0,l.useEffect)(()=>{"geolocation"in navigator||n({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(r,n)},[]),e};function Y(){let[e,t]=(0,l.useState)([]),[r,i]=(0,l.useState)(!1),[a,c]=(0,l.useState)(0),[d,u]=(0,l.useState)(!1),[f,g]=(0,l.useState)(!1),h=Z(),p=()=>{i(!0),X(h.coordinates.lat,h.coordinates.lng,0).then(e=>{t(e),i(!1),c(1),u(e.length>0)})},v=()=>{g(!0),X(h.coordinates.lat,h.coordinates.lng,a).then(r=>{t([...e,...r]),g(!1),c(a+1),u(r.length>0)})};return(0,n.jsxs)("div",{className:s().container,children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"OSU Classrooms"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("main",{children:[(0,n.jsx)("h1",{className:s().title,children:"OSU Classroom Avaliability"}),(0,n.jsx)("p",{className:s().description,children:"Term: Summer 2023"}),h.loaded?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(m,{style:"btn btn-primary",text:"Search",onClick:p,loading:r,disabled:r})}):(0,n.jsx)("div",{children:"Location data not available yet. "}),(0,n.jsx)(V,{buildings:e}),d&&(0,n.jsx)(m,{style:"btn btn-outline-secondary",text:"Load More",onClick:v,loading:f,disabled:f})]}),(0,n.jsx)("footer",{children:(0,n.jsx)("a",{children:"Support us ❤️"})})]})}},6568:function(e){e.exports={card:"Building_card__cm3XX",slideInLeft:"Building_slideInLeft__WDCgq",rooms:"Building_rooms__eLe7u",show:"Building_show__1VbmV"}},4830:function(e){e.exports={list:"BuildingList_list__5bAOx"}},3665:function(e){e.exports={"search-btn":"Button_search-btn__WkhOA",spinner:"Button_spinner__mgQBK",spin:"Button_spin__xhFtc"}},1086:function(e){e.exports={classroom:"Classroom_classroom__pOr0M"}},9034:function(e){e.exports={container:"Home_container__bCOhY",title:"Home_title__T09hD",description:"Home_description__41Owk",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},9008:function(e,t,r){e.exports=r(2636)},5675:function(e,t,r){e.exports=r(3740)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);